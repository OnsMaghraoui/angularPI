{"ast":null,"code":"import { __decorate, __metadata } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CreditDemandService } from \"../../service/credit-demand.service\";\nimport * as Rellax from \"rellax\";\nimport { FormBuilder, Validators } from \"@angular/forms\";\nlet ClientCreditDemandComponent = class ClientCreditDemandComponent {\n  constructor(formBuilder, creditDemandService) {\n    this.formBuilder = formBuilder;\n    this.creditDemandService = creditDemandService;\n    this.styles = [{\n      \"featureType\": \"water\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [{\n        \"color\": \"#e9e9e9\"\n      }, {\n        \"lightness\": 17\n      }]\n    }, {\n      \"featureType\": \"landscape\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [{\n        \"color\": \"#f5f5f5\"\n      }, {\n        \"lightness\": 20\n      }]\n    }, {\n      \"featureType\": \"road.highway\",\n      \"elementType\": \"geometry.fill\",\n      \"stylers\": [{\n        \"color\": \"#ffffff\"\n      }, {\n        \"lightness\": 17\n      }]\n    }, {\n      \"featureType\": \"road.highway\",\n      \"elementType\": \"geometry.stroke\",\n      \"stylers\": [{\n        \"color\": \"#ffffff\"\n      }, {\n        \"lightness\": 29\n      }, {\n        \"weight\": 0.2\n      }]\n    }, {\n      \"featureType\": \"road.arterial\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [{\n        \"color\": \"#ffffff\"\n      }, {\n        \"lightness\": 18\n      }]\n    }, {\n      \"featureType\": \"road.local\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [{\n        \"color\": \"#ffffff\"\n      }, {\n        \"lightness\": 16\n      }]\n    }, {\n      \"featureType\": \"poi\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [{\n        \"color\": \"#f5f5f5\"\n      }, {\n        \"lightness\": 21\n      }]\n    }, {\n      \"featureType\": \"poi.park\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [{\n        \"color\": \"#dedede\"\n      }, {\n        \"lightness\": 21\n      }]\n    }, {\n      \"elementType\": \"labels.text.stroke\",\n      \"stylers\": [{\n        \"visibility\": \"on\"\n      }, {\n        \"color\": \"#ffffff\"\n      }, {\n        \"lightness\": 16\n      }]\n    }, {\n      \"elementType\": \"labels.text.fill\",\n      \"stylers\": [{\n        \"saturation\": 36\n      }, {\n        \"color\": \"#333333\"\n      }, {\n        \"lightness\": 40\n      }]\n    }, {\n      \"elementType\": \"labels.icon\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }]\n    }, {\n      \"featureType\": \"transit\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [{\n        \"color\": \"#f2f2f2\"\n      }, {\n        \"lightness\": 19\n      }]\n    }, {\n      \"featureType\": \"administrative\",\n      \"elementType\": \"geometry.fill\",\n      \"stylers\": [{\n        \"color\": \"#fefefe\"\n      }, {\n        \"lightness\": 20\n      }]\n    }, {\n      \"featureType\": \"administrative\",\n      \"elementType\": \"geometry.stroke\",\n      \"stylers\": [{\n        \"color\": \"#fefefe\"\n      }, {\n        \"lightness\": 17\n      }, {\n        \"weight\": 1.2\n      }]\n    }];\n    this.alerts = [];\n    this.creditDemand = {\n      sum_cd: null,\n      duration_cd: null,\n      typecd: null // default value\n    };\n\n    this.currentUser = {\n      id: 1\n    }; // TODO: Replace with the actual user ID\n    this.creditDemandForm = this.formBuilder.group({\n      sum_cd: ['', Validators.required],\n      duration_cd: ['', Validators.required],\n      value_cd: ['', Validators.required],\n      interestRate: ['', Validators.required],\n      typecd: ['', Validators.required]\n    });\n  }\n  ngOnInit() {\n    var rellaxHeader = new Rellax('.rellax-header');\n    var body = document.getElementsByTagName('body')[0];\n    body.classList.add('login-page');\n    var navbar = document.getElementsByTagName('nav')[0];\n    navbar.classList.add('navbar-transparent');\n  }\n  ngOnDestroy() {\n    var body = document.getElementsByTagName('body')[0];\n    body.classList.remove('login-page');\n    var navbar = document.getElementsByTagName('nav')[0];\n    navbar.classList.remove('navbar-transparent');\n  }\n  onSubmit() {\n    this.creditDemandService.addCreditDemand(this.creditDemand, 1) // passing in user id statically as 1\n    .subscribe(response => {\n      console.log(response);\n      // do something with the response, such as display a success message\n    }, error => {\n      console.error(error);\n      // handle the error, such as displaying an error message to the user\n    });\n  }\n\n  createCreditDemand() {\n    const creditDemand = {\n      sum_cd: this.creditDemandForm.get('sum_cd').value,\n      duration_cd: this.creditDemandForm.get('duration_cd').value,\n      value_cd: this.creditDemandForm.get('value_cd').value,\n      interestRate: this.creditDemandForm.get('interestRate').value,\n      typecd: this.creditDemandForm.get('typecd').value\n    };\n    this.creditDemandService.addCreditDemand(creditDemand, this.currentUser.id).subscribe(data => {\n      console.log(data);\n      // TODO: Notify the user that the credit demand was created\n    }, error => {\n      console.error(error);\n      // TODO: Notify the user that an error occurred\n    });\n  }\n\n  closeAlert(alert) {\n    const index = this.alerts.indexOf(alert);\n    this.alerts.splice(index, 1);\n  }\n};\nClientCreditDemandComponent = __decorate([Component({\n  selector: 'app-client-credit-demand',\n  templateUrl: './client-credit-demand.component.html',\n  styleUrls: ['./client-credit-demand.component.css']\n}), __metadata(\"design:paramtypes\", [FormBuilder, CreditDemandService])], ClientCreditDemandComponent);\nexport { ClientCreditDemandComponent };","map":null,"metadata":{},"sourceType":"module"}